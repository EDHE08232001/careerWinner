<view class="container">
  <!-- 导航栏 -->
  <view class="custom-nav">
    <view class="back-icon" bindtap="onBack">
      <view class="back-arrow"></view>
      <text class="back-text">返回</text>
    </view>
    <view class="nav-title">收入评估</view>
  </view>

  <!-- 主要内容区域 -->
  <view class="content">
    <!-- 收入评测输入区域 -->
    <view class="income-evaluation-section" wx:if="{{!showResult}}">
      <view class="input-section">
        <view class="input-title-center">收入评测</view>
        <text class="input-label">请输入您的月收入(元):</text>
        <input type="digit" class="income-input" placeholder="例如: 5000" bindinput="inputIncome" value="{{income}}" />
        <button class="evaluate-btn" bindtap="calculateIncome">开始评测</button>
        <view class="info-text">
          <text>*数据来源：中国国家统计局2024年收入分组标准</text>
        </view>
      </view>
    </view>

    <!-- 收入评测结果区域 -->
    <view class="result-section" wx:if="{{showResult}}">
      <view class="result-card">
        <view class="result-title">收入评测结果</view>
        <view class="result-content">
          <text class="result-text">您的月收入为</text>
          <text class="result-value">{{income}}元</text>
          <text class="result-text">属于{{incomeGroup}}群体</text>
          <text class="result-text">超过全国{{incomePercentile}}%的人</text>
        </view>

        <view class="income-table">
          <view class="table-header">
            <text class="table-cell">收入分组</text>
            <text class="table-cell">收入范围</text>
          </view>
          <block wx:for="{{incomeGroups}}" wx:key="name">
            <view class="table-row {{item.highlight ? 'highlight-row' : ''}}">
              <text class="table-cell">{{item.name}}</text>
              <text class="table-cell">{{item.range}}</text>
            </view>
          </block>
        </view>

        <view class="result-note">数据来源：中国国家统计局2024年收入分组标准</view>
        <button class="back-btn" bindtap="resetCalculation">重新评测</button>
      </view>
    </view>
  </view>
</view> 